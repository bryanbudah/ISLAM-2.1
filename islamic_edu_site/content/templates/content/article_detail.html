{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="islamic-layout">

    <!-- Decorative Islamic header -->
    <div class="islamic-header">
        <div class="arabic-pattern"></div>
        <h1 class="islamic-title">{{ article.title }}</h1>
        <div class="arabic-pattern"></div>
    </div>

    <!-- Meta information -->
    <div class="islamic-meta">
        <div class="meta-item">
            <i class="fas fa-user"></i>
            <span>Author: {{ article.author }}</span>
        </div>
        <div class="meta-item">
            <i class="fas fa-calendar-alt"></i>
            <span>Published: {{ article.created_at|date:"F j, Y" }}</span>
        </div>
        <div class="meta-item">
            <i class="fas fa-book"></i>
            <span>Category: {{ article.category.name }}</span>
        </div>
    </div>

    <!-- Featured image -->
    {% if article.image %}
    <div class="islamic-image-frame">
        <img src="{{ article.image.url }}" alt="{{ article.title }}" class="article-image">
        <div class="islamic-frame-decoration"></div>
    </div>
    {% endif %}

    <!-- Video Section -->
    {% if article.video or article.embed_url %}
    <div class="islamic-content-section">
        <div class="section-header">
            <div class="arabic-icon">ðŸŽ¬</div>
            <h2>Watch Video</h2>
            <div class="arabic-icon">ðŸŽ¬</div>
        </div>

        {% if article.video %}
        <video controls class="islamic-video-player">
            <source src="{{ article.video.url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        {% elif article.embed_url %}
        <div class="islamic-video-embed">
            <iframe src="{{ article.embed_url }}" allowfullscreen></iframe>
        </div>
        {% endif %}

        <div class="video-decoration"></div>
    </div>
    {% endif %}

    <!-- Article content -->
    <div class="islamic-content-section">
        <div class="section-header">
            <div class="arabic-icon">ðŸ“–</div>
            <h2>Article</h2>
            <div class="arabic-icon">ðŸ“–</div>
        </div>
        <div class="article-content islamic-text">
            {{ article.content|linebreaks }}
        </div>
    </div>

    <!-- Related Articles -->
    <div class="related-articles islamic-content-section">
        <div class="section-header">
            <div class="arabic-icon">ðŸ•Œ</div>
            <h2>More Articles</h2>
            <div class="arabic-icon">ðŸ•Œ</div>
        </div>
        <div class="related-articles-grid">
            {% for related in related_articles %}
                <div class="related-article-item">
                    {% if related.image %}
                    <img src="{{ related.image.url }}" alt="{{ related.title }}" class="related-article-image">
                    {% endif %}
                    <h4>
                        <a href="{{ related.get_absolute_url }}" class="related-link">
                            {{ related.title }}
                        </a>
                    </h4>
                </div>
            {% endfor %}
        </div>
    </div>

</div>

<!-- Styles -->
<style>
.islamic-layout {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color:#333; line-height:1.6; max-width:1200px; margin:0 auto; padding:20px;
}
.islamic-header { display:flex; align-items:center; justify-content:center; margin-bottom:30px; }
.arabic-pattern { flex:1; height:2px; background:linear-gradient(90deg,transparent,#8e7037,transparent); margin:0 15px; }
.arabic-pattern::before, .arabic-pattern::after { content:"Ûž"; color:#8e7037; font-size:22px; position:relative; top:-12px; }
.islamic-title { text-align:center; color:#2a5c3b; font-size:2.5rem; font-weight:bold; margin:0 15px; text-shadow:1px 1px 2px rgba(0,0,0,0.1); }

.islamic-meta { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; margin-bottom:30px; padding:15px;
    background:#f8f5e6; border-radius:5px; box-shadow:0 2px 5px rgba(0,0,0,0.05);}
.meta-item { display:flex; align-items:center; gap:8px; color:#5a4b30; }
.meta-item i { color:#8e7037; }

.islamic-image-frame { position:relative; margin:30px auto; max-width:800px; }
.article-image { width:100%; border-radius:6px; box-shadow:0 5px 15px rgba(0,0,0,0.1); }

.islamic-video-player, .islamic-video-embed iframe {
    width:100%; max-width:800px; height:450px; border-radius:6px; border:none;
    display:block; margin:0 auto; box-shadow:0 3px 12px rgba(0,0,0,0.1);
}
.islamic-video-embed { position:relative; padding-top:56.25%; }
.islamic-video-embed iframe { position:absolute; top:0; left:0; width:100%; height:100%; }

.islamic-content-section {
    margin:40px 0; padding:20px; background:#fff; border-radius:6px;
    box-shadow:0 2px 10px rgba(0,0,0,0.05); border-left:4px solid #8e7037;
}
.section-header { display:flex; align-items:center; justify-content:center; margin-bottom:20px; }
.arabic-icon { margin:0 10px; font-size:1.5rem; color:#8e7037; }
.islamic-text { font-size:1.1rem; color:#333; text-align:justify; }

.related-articles-grid {
    display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
    gap:20px; margin-top:20px;
}
.related-article-item {
    padding:15px; background:#f8f5e6; border-radius:6px; border-left:3px solid #8e7037;
    transition:transform 0.3s; text-align:center;
}
.related-article-item:hover { transform:translateY(-5px); box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.related-article-item h4 { color:#2a5c3b; margin-top:10px;}
.related-article-image { width:100%; border-radius:5px; margin-bottom:10px;}
.related-link { color:#2a5c3b; font-weight:600; text-decoration:none;}
.related-link:hover { color:#174c2b; }

@media(max-width:768px){
    .islamic-title{ font-size:2rem; }
    .islamic-meta{ flex-direction:column; align-items:center; gap:10px; }
    .section-header{ flex-direction:column; gap:8px; }
    .related-articles-grid{ grid-template-columns:1fr; }
}
</style>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}
